<div class="container-component">
    <div class="container-head">
        <div class="container-headline">
            <h1>Contacts</h1>
            <p>Better with a Team</p>
        </div>

        <div class="container-active">

            <button mat-button (click)="openDialogAddContact()">
                <span>Add Contact</span>
                <mat-icon matSuffix>add</mat-icon>
            </button>
        </div>
    </div>

    <div class="container-content">
        <mat-card class="is-empty-note" *ngIf="allContacts.length == 0">
            You have no contacts yet. Use the button above to add your contacts.
        </mat-card>

        <mat-form-field>
            <mat-label>Filter</mat-label>
            <input matInput (keyup)="applyFilter($event)" #input>
        </mat-form-field>

        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

            <ng-container matColumnDef="profileImg">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let element">
                    <span [ngStyle]="{'background-color': element.color}">
                        {{ element.firstName.charAt(0).toUpperCase() }} {{ element.lastName.charAt(0).toUpperCase() }}
                    </span>
                </td>
            </ng-container>

            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Name </th>
                <td mat-cell *matCellDef="let element"> {{element.firstName}} {{element.lastName}}</td>
            </ng-container>


            <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> E-mail </th>
                <td mat-cell *matCellDef="let element"> {{ element.email }} </td>
            </ng-container>

            <ng-container matColumnDef="phone">
                <th mat-header-cell *matHeaderCellDef> Phone </th>
                <td mat-cell *matCellDef="let element"> {{ element.phone }} </td>
            </ng-container>

            <ng-container matColumnDef="department">
                <th mat-header-cell *matHeaderCellDef> Department </th>
                <td mat-cell *matCellDef="let element"> {{ element.department }} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" [routerLink]="['/mainpage/contacts/' + row.contactId]"></tr>

            <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
            </tr>
        </table>
    </div>
</div>